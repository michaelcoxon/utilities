var utilities;(()=>{"use strict";var t,e,r={},n={};function s(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return r[t](i,i.exports,s),i.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);s.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&n&&r;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,s.d(i,a),i},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};s.r(i),s.d(i,{AggregateDisposable:()=>mi,Arrays:()=>a,Assertions:()=>o,Booleans:()=>u,Cache:()=>h,Comparers:()=>c,Configuration:()=>f,Enumerables:()=>l,Enumerators:()=>p,Events:()=>d,Exceptions:()=>m,Formatters:()=>g,Guid:()=>$e,IO:()=>w,Lazy:()=>Mo,Logging:()=>v,ModelState:()=>y,Numbers:()=>M,Pipeline:()=>k,Promises:()=>E,QueryStringCollection:()=>mo,Result:()=>O,Storage:()=>x,Strings:()=>b,Type:()=>W,Url:()=>go,convertToString:()=>Qt,createSelector:()=>vo,empty:()=>$,ensure:()=>$n,equals:()=>ot,equivilentToByJSON:()=>at,errorToLogMessage:()=>ui,getHash:()=>U,getType:()=>yo,hashString:()=>H,isBoolean:()=>_a,isComparable:()=>jn,isDate:()=>Ht,isFunction:()=>jt,isNull:()=>N,isNullOrEmpty:()=>$t,isNumber:()=>Rt,isObject:()=>it,isString:()=>pr,isUndefined:()=>T,isUndefinedOrNull:()=>A,noop:()=>Gs,serializeError:()=>ko,stringOrUrlToUrl:()=>wo,using:()=>Eo,usingAsync:()=>Oo});var a={};s.r(a),s.d(a,{all:()=>S,any:()=>D,average:()=>_,contains:()=>I,count:()=>j,distinct:()=>G,first:()=>K,firstOrDefault:()=>z,forEach:()=>Y,groupBy:()=>Z,item:()=>Q,last:()=>tt,lastOrDefault:()=>X,max:()=>rt,min:()=>nt,ofType:()=>st,orderBy:()=>yt,orderByDescending:()=>kt,range:()=>Et,select:()=>et,selectMany:()=>Ot,sequenceEqual:()=>xt,single:()=>Nt,singleOrDefault:()=>Tt,skip:()=>At,sum:()=>C,take:()=>St,where:()=>J});var o={};s.r(o),s.d(o,{ArgumentAssertionBuilder:()=>se,ArrayLikeArgumentAssertionBuilder:()=>ie,CompareAssertionBuilder:()=>ae,GuidArgumentAssertionBuilder:()=>Ve,StringArgumentAssertionBuilder:()=>Le});var u={};s.r(u),s.d(u,{_caseInsensitiveFalseString:()=>Ue,_caseInsensitiveTrueString:()=>He,falseString:()=>Ge,parse:()=>Ye,trueString:()=>Je,tryParse:()=>ze});var h={};s.r(h),s.d(h,{AsyncCacheItem:()=>ar,CacheExpiredException:()=>tr,MemoryCache:()=>hr,expire:()=>Ze});var c={};s.r(c),s.d(c,{CaseInsensitiveStringComparer:()=>cr,CustomComparer:()=>fr,DefaultComparers:()=>ct,MapComparer:()=>vt,ReverseComparer:()=>Mt});var f={};s.r(f),s.d(f,{JsonConfigurationBuilder:()=>In,parseKey:()=>lr});var l={};s.r(l),s.d(l,{ArrayEnumerable:()=>as,Collection:()=>os,Dictionary:()=>us,Enumerable:()=>ss,EnumerableBase:()=>is,EnumeratorEnumerable:()=>hs,LinkedList:()=>cs,List:()=>fs,default:()=>ls});var p={};s.r(p),s.d(p,{AggregateEnumerator:()=>Ms,AppendEnumerator:()=>qn,ArrayEnumerator:()=>Vn,AsyncEnumerator:()=>ks,DictionaryEnumerator:()=>Ln,EnumeratorBase:()=>Fn,LinkedListEnumerator:()=>Kn,RangeEnumerator:()=>Bn,SelectEnumerator:()=>Rn,SelectManyEnumerator:()=>Hn,SkipEnumerator:()=>Un,TakeEnumerator:()=>Jn,WhereEnumerator:()=>Gn});var d={};s.r(d),s.d(d,{Event:()=>Os,SingleInvokeEvent:()=>xs});var m={};s.r(m),s.d(m,{AlreadyDisposedException:()=>Es,ArgumentException:()=>Dt,ArgumentNullException:()=>ee,ArgumentUndefinedException:()=>re,ErrorException:()=>bs,Exception:()=>bt,FileNotFoundException:()=>Ws,FormatException:()=>Ct,IndexOutOfRangeException:()=>Ss,InvalidOperationException:()=>Wt,InvalidTypeException:()=>Ns,KeyAlreadyDefinedException:()=>ur,KeyNotFoundException:()=>or,MutexAlreadyAquiredException:()=>Ts,NotImplementedException:()=>ns,NotSupportedException:()=>Ke,NullReferenceException:()=>Pn,OutOfBoundsException:()=>oe});var g={};s.r(g),s.d(g,{DateFormatter:()=>Zt,NumberFormatter:()=>Lt,NumberFormatterDelegates:()=>It,StringFormatter:()=>Bt});var w={};s.r(w),s.d(w,{IndentedStringBuilder:()=>Js,StringBuilder:()=>Ie,combine:()=>_s,getDirectory:()=>Is,getExtension:()=>Ps,getFileName:()=>Fs,getFileNameWithoutExtension:()=>qs,toFriendlyUrl:()=>Vs});var v={};s.r(v),s.d(v,{AggregateLogger:()=>gi,ConsoleLogger:()=>vi,LogLevel:()=>Us,Logger:()=>ci,NullLogger:()=>Ks,ScopedLogger:()=>oi,getDefaultLogger:()=>Ys,loggerScope:()=>yi,setDefaultLogger:()=>Zs,testLogVerbosity:()=>Qs});var y={};s.r(y),s.d(y,{BaseModelState:()=>ea,FactoryModelState:()=>ia,ModelState:()=>aa,PollingModelState:()=>oa});var M={};s.r(M),s.d(M,{Byte:()=>_e,Int16:()=>ua,Int32:()=>ha,SignedByte:()=>ca,UnsignedInt16:()=>Ce,UnsignedInt32:()=>De,asByte:()=>fa,asInt16:()=>la,asInt32:()=>pa,asSignedByte:()=>da,asUnsignedInt16:()=>ma,asUnsignedInt32:()=>ga,isEven:()=>va,isMultipleOf:()=>wa,isOdd:()=>ya});var k={};s.r(k),s.d(k,{Pipeline:()=>Ma});var E={};s.r(E),s.d(E,{AsyncWrapper:()=>ka,CancellablePromise:()=>sa,CancellationToken:()=>ra,CancellationTokenSource:()=>na,create:()=>Ea,delay:()=>Oa,ensurePromise:()=>xa});var O={};s.r(O),s.d(O,{Result:()=>Ae});var x={};s.r(x),s.d(x,{StorageRepository:()=>Na});var b={};s.r(b),s.d(b,{ESCAPE_REGEX_SEARCH:()=>L,FORMAT_REGEX:()=>V,KEY_VALUE_SEPARATOR:()=>R,KEY_WORD_SEPARATOR:()=>B,WHITESPACE:()=>q,empty:()=>F,escapeRegExp:()=>As,firstCharToLowerCase:()=>Ta,firstCharToUpperCase:()=>Aa,format:()=>Xt,isNullOrWhitespace:()=>Da,newLine:()=>P,padLeft:()=>_t,toCharArray:()=>Ca,trim:()=>Ds,trimEnd:()=>Cs,trimStart:()=>js});var W={};function S(t,e){return t.every(e)}function N(t){return null===t}function T(t){return void 0===t}function A(t){return T(t)||N(t)}function D(t,e){return A(e)?t.length>0:t.some(e)}function C(t,e){return T(e)?t.reduce(((t,e)=>t+e),0):t.map(e).reduce(((t,e)=>t+e),0)}function _(t,e){return t.length>0?T(e)?C(t)/t.length:C(t,e)/t.length:0}function I(t,e){return t.indexOf(e)>-1}function j(t){return t.length}s.r(W),s.d(W,{Type:()=>Ga,TypeBuilder:()=>Xa});const $="",F=$,P="\n",q="\\s\\uFEFF\\xA0",V=/{(\d+):?([^}]+)?}/g,L=/[-[\]/{}()*+?.\\^$|]/g,B="__",R=":";function H(t){if(0===t.length)return 0;if(void 0===Array.prototype.reduce){let e,r,n=0;for(e=0;e<t.length;e++)r=t.charCodeAt(e),n=(n<<5)-n+r,n|=0;return n}return t.split(F).map((t=>t.charCodeAt(0))).reduce(((t,e)=>(t<<5)-t+e|0))}function U(t){let e=F;if(JSON&&JSON.stringify)for(const r in Object.getOwnPropertyNames(t))e+=`${r}${R}${t[r]}`;else e=JSON.stringify(t);return H(e).toString()}function J(t,e){return t.filter(e)}function G(t,e){const r={};return J(t,(t=>{const n=e(t);let s;return s=n instanceof Object?U(n):""+n,!r[s]&&(r[s]=!0,!0)}))}function K(t,e){A(e)||(t=[...J(t,e)]);for(const e of t)return e;throw new Error("The collection is empty!")}function z(t,e){A(e)||(t=J(t,e));for(const e of t)return e;return null}function Y(t,e){let r=0;for(const n of t){if(!1===e(n,r))break;r++}}function Z(t,e){var r;const n=new Map;for(const s of t){const t=e(s),i=null!==(r=n.get(t))&&void 0!==r?r:[];i.push(s),n.set(t,i)}return n}function Q(t,e){return t[e]}function X(t,e){var r;return A(e)||(t=J(t,e)),null!==(r=t[t.length-1])&&void 0!==r?r:null}function tt(t,e){const r=X(t,e);if(A(r))throw new Error("There is no last item matching the predicate!");return r}function et(t,e){return t.map(e)}function rt(t,e){const r=et(t,e);return Math.max(...r)}function nt(t,e){const r=et(t,e);return Math.min(...r)}function st(t,e){const r=[];for(const n of t)n instanceof e&&r.push(n);return r}function it(t){return"object"==typeof t}function at(t,e){return JSON.stringify(t)==JSON.stringify(e)}function ot(t,e,r=!1,n=!1){let s=!1;if(it(t)){if(r)s=at(t,e);else for(const i in Object.getOwnPropertyNames(t))if(s=n?ot(t[i],e[i],r,n):t[i]==e[i],!s)break}else s=r?at(t,e):t===e;return s}class ut{compare(t,e){return t<e?-1:t>e?1:0}equals(t,e){return t===e}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}}const ht={DefaultComparer:new class{compare(t,e){return"string"==typeof t&&"string"==typeof e?ht.StringComparer.compare(t,e):"number"==typeof t&&"number"==typeof e?ht.NumberComparer.compare(t,e):ht.ObjectComparer.compare(t,e)}equals(t,e){return"string"==typeof t&&"string"==typeof e?ht.StringComparer.equals(t,e):"number"==typeof t&&"number"==typeof e?ht.NumberComparer.equals(t,e):ht.ObjectComparer.equals(t,e)}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}},StringComparer:new ut,NumberComparer:new class{compare(t,e){const r=t-e;return r<0?-1:r>0?1:r}equals(t,e){return t===e}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}},ObjectComparer:new class{compare(t,e){var r,n;const s="toString",i=null===(r=t[s])||void 0===r?void 0:r.call(t),a=null===(n=e[s])||void 0===n?void 0:n.call(e);return void 0!==i&&i!=={}.toString()&&void 0!==a&&a!=={}.toString()?(new ut).compare(i,a):(new ut).compare(U(t),U(e))}equals(t,e){return ot(t,e,!0)}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}}},ct=ht;var ft,lt,pt,dt,mt;function gt(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function wt(t,e,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(t,r):s?s.value=r:e.set(t,r),r}Object.create,Object.create;class vt{constructor(t,e){ft.set(this,void 0),lt.set(this,void 0),wt(this,ft,t,"f"),wt(this,lt,e,"f")}compare(t,e){const r=gt(this,ft,"f").call(this,t),n=gt(this,ft,"f").call(this,e);return gt(this,lt,"f").compare(r,n)}equals(t,e){const r=gt(this,ft,"f").call(this,t),n=gt(this,ft,"f").call(this,e);return gt(this,lt,"f").equals(r,n)}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}}function yt(t,e,r=ct.DefaultComparer){const n=new vt(e,r);return t.sort(((t,e)=>n.compare(t,e)))}ft=new WeakMap,lt=new WeakMap;class Mt{constructor(t){pt.set(this,void 0),wt(this,pt,t,"f")}compare(t,e){return gt(this,pt,"f").compare(e,t)}equals(t,e){return gt(this,pt,"f").equals(e,t)}greaterThan(t,e){return gt(this,pt,"f").greaterThan(e,t)}greaterThanOrEqual(t,e){return gt(this,pt,"f").greaterThanOrEqual(e,t)}lessThan(t,e){return gt(this,pt,"f").lessThan(e,t)}lessThanOrEqual(t,e){return gt(this,pt,"f").lessThanOrEqual(e,t)}}function kt(t,e,r=ct.DefaultComparer){const n=new vt(e,new Mt(r||ct.DefaultComparer));return t.sort(((t,e)=>n.compare(t,e)))}function Et(t,e){const r=[];for(let n=0;n<e;n++)r.push(t++);return r}function Ot(t,e){return t.reduce(((t,r)=>[...t,...e(r)]),[])}function xt(t,e,r=!1){if(t===e)return!0;if(A(t)||A(e))return!1;if(t.length!=e.length)return!1;r&&(t=[...t].sort(),e=[...e].sort());for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}pt=new WeakMap;class bt extends Error{constructor(t,e){super(t),dt.set(this,void 0);const r=new.target.prototype;this.__proto__=r,wt(this,dt,e,"f")}get innerException(){return gt(this,dt,"f")}static isException(t){return t instanceof bt||t instanceof Object&&void 0!==t.innerException}}dt=new WeakMap;class Wt extends bt{constructor(t,e){e?super(t,e):t?super(t):super(),this.name="InvalidOperationException"}}function St(t,e){return t.slice(0,e)}function Nt(t,e){A(e)||(t=J(t,e));const r=St(t,2);if(1==r.length)return r[0];throw r.length>1?new Wt("More than one match in the collection!"):new Error("The collection is empty!")}function Tt(t,e){A(e)||(t=J(t,e));const r=St(t,2);if(1==r.length)return r[0];if(r.length>1)throw new Wt("More than one match in the collection!");return null}function At(t,e){return t.slice(e)}class Dt extends bt{constructor(t,e,r){const n=`'${t}' ${e}`;r?super(n,r):super(n),this.name="ArgumentException"}}class Ct extends bt{constructor(t,e){e?super(t,e):t?super(t):super(),this.name="FormatException"}}function _t(t,e,r){let n=t;for(;n.length<e;)n=r+n;return n}class It{constructor(t){mt.set(this,void 0),wt(this,mt,t,"f")}formatCurrency(t,e=gt(this,mt,"f").currencyDecimalDigits){return Xt(gt(this,mt,"f").currencyFormat,this.formatFixed(Math.abs(t),e),t<0?"-":"")}formatInteger(t,e=0){return t<0?`-${_t(Math.abs(t).toFixed(0),e,"0")}`:_t(t.toFixed(0),e,"0")}formatExponential(t,e=6){return t.toExponential(e)}formatFixed(t,e=gt(this,mt,"f").numberDecimalDigits){return t.toFixed(e)}formatGeneral(t,e){const r=this.formatFixed(t,e),n=this.formatExponential(t,e);return r.length<=n.length?r:n}formatNumber(t,e=gt(this,mt,"f").numberDecimalDigits){return this.formatFixed(t,e)}formatPercent(t,e=gt(this,mt,"f").percentDecimalDigits){return`${this.formatFixed(t,e)} %`}formatHexadecimal(t,e=0){return _t(t.toString(16),e,"0")}}function jt(t){return"function"==typeof t}function $t(t){return!!A(t)||0===t.length||!(!jt(t.length)||0!==t.length())||0===t.count||!(!jt(t.count)||0!==t.count())}mt=new WeakMap;const Ft=JSON.parse('{"currencyFormat":"{1}${0}","currencyDecimalDigits":2,"numberDecimalDigits":2,"percentDecimalDigits":2,"numberGrouping":",","numberDecimal":"."}');var Pt,qt,Vt=s.t(Ft,2);class Lt{constructor(t=new It(Vt)){Pt.set(this,void 0),qt.set(this,(t=>{switch(t.toLowerCase()){case"c":return gt(this,Pt,"f").formatCurrency;case"d":return gt(this,Pt,"f").formatInteger;case"e":return gt(this,Pt,"f").formatExponential;case"f":return gt(this,Pt,"f").formatFixed;case"g":return gt(this,Pt,"f").formatGeneral;case"n":return gt(this,Pt,"f").formatNumber;case"p":return gt(this,Pt,"f").formatPercent;case"x":return gt(this,Pt,"f").formatHexadecimal;default:throw new Ct(`The format specifier '${t}' is not implemented`)}})),wt(this,Pt,t,"f")}format(t,e){if($t(e))return t.toString();{const[r,n]=[e.charAt(0),parseInt(e.slice(1))||void 0];return gt(this,qt,"f").call(this,r).call(gt(this,Pt,"f"),t,n)}}}Pt=new WeakMap,qt=new WeakMap;class Bt{format(t,e){if($t(e))return t;switch(e){case"L":return t.toLowerCase();case"U":return t.toUpperCase();default:throw new Ct(`The format '${e}' is not implemented`)}}}function Rt(t){return"number"==typeof t}function Ht(t){return t instanceof Date}const Ut=JSON.parse('{"am":"AM","pm":"PM","timeSeparator":":","dateSeparator":"/","months_Long":["January","Feburary","March","April","May","June","July","August","September","October","November","December"],"months_Short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"daysOfWeek_Long":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"daysOfWeek_Short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}');var Jt=s.t(Ut,2);function Gt(t,e){let r=F;r+=t<0?"-":"+";const n=t/60;return r+=_t(Math.floor(n).toString(),2,"0"),r+=e.timeSeparator,r+=_t(Math.round(60*(n-Math.floor(n))).toString(),2,"0"),r}function Kt(t){let e=F;e+=t<0?"-":"+";const r=t/60;return e+=Math.floor(r).toString(),e}const zt={d:t=>t.getDate().toString(),dd:t=>_t(t.getDate().toString(),2,"0"),ddd:(t,e)=>e.daysOfWeek_Short[t.getDay()],dddd:(t,e)=>e.daysOfWeek_Long[t.getDay()],f:t=>Math.round(t.getMilliseconds()/100).toString(),ff:t=>_t(Math.round(t.getMilliseconds()/10).toString(),2,"0"),fff:t=>_t(Math.round(t.getMilliseconds()).toString(),3,"0"),F:t=>{const e=Math.round(t.getMilliseconds()/100);return e>0?e.toString():F},FF:t=>{const e=Math.round(t.getMilliseconds()/10);return e>0?_t(e.toString(),2,"0"):F},FFF:t=>{const e=Math.round(t.getMilliseconds());return e>0?_t(e.toString(),3,"0"):F},h:t=>(t.getHours()%12||12).toString(),hh:t=>_t((t.getHours()%12||12).toString(),2,"0"),H:t=>t.getHours().toString(),HH:t=>_t(t.getHours().toString(),2,"0"),K:(t,e)=>Gt(t.getTimezoneOffset(),e),m:t=>t.getMinutes().toString(),mm:t=>_t(t.getMinutes().toString(),2,"0"),M:t=>(t.getMonth()+1).toString(),MM:t=>_t((t.getMonth()+1).toString(),2,"0"),MMM:(t,e)=>e.months_Short[t.getMonth()],MMMM:(t,e)=>e.months_Long[t.getMonth()],s:t=>t.getSeconds().toString(),ss:t=>_t(t.getSeconds().toString(),2,"0"),t:(t,e)=>(t.getHours()<12?e.am:e.pm)[0],tt:(t,e)=>t.getHours()<12?e.am:e.pm,y:t=>parseInt(t.getFullYear().toString().substr(-2)).toString(),yy:t=>_t(parseInt(t.getFullYear().toString().substr(-2)).toString(),2,"0"),yyy:t=>_t(parseInt(t.getFullYear().toString().substr(-3)).toString(),3,"0"),yyyy:t=>_t(parseInt(t.getFullYear().toString().substr(-4)).toString(),4,"0"),yyyyy:t=>_t(parseInt(t.getFullYear().toString().substr(-5)).toString(),5,"0"),z:t=>Kt(t.getTimezoneOffset()),zz:t=>_t(Kt(t.getTimezoneOffset()),2,"0"),zzz:(t,e)=>Gt(t.getTimezoneOffset(),e)};var Yt;class Zt{constructor(t=Jt){Yt.set(this,void 0),wt(this,Yt,t,"f")}format(t,e){const r=Object.keys(zt);return e.replace(/([a-z]+)/gi,(e=>r.indexOf(e)>-1?zt[e](t,gt(this,Yt,"f")):e))}}function Qt(t,e=F){return Rt(t)?(new Lt).format(t,e):Ht(t)?(new Zt).format(t,e):(new Bt).format(`${t}`,e)}function Xt(t,...e){return t.replace(V,((t,r,n)=>{if($t(n)){const t=Qt(e[parseInt(r)]);return A(t)?F:t}{const t=Qt(e[parseInt(r)],n);return A(t)?F:t}}))}Yt=new WeakMap;const te=JSON.parse('{"Do":"\'{0}\' is undefined","AC":"\'{0}\' is null","a9":"Type of \'{0}\' is not supported. Expected: \'{1}\'. {2}","c2":"The value of \'{0}\' is out of bounds. min: \'{1}\', max: \'{2}","zM":"The index of \'{0}\' on \'{1}\' is out of bounds. min: \'{2}\', max: \'{3}\'","yU":"File \'{0}\' is not found","$9":"Key \'{0}\' is not found","ZT":"Key \'{0}\' is already defined","qp":"Mutex is already aquired. Release before aquiring again or wait"}');class ee extends Dt{constructor(t,e){const r=Xt(te.AC,t);e?super(t,r,e):super(t,r),this.name="ArgumentNullException"}}class re extends Dt{constructor(t,e){const r=Xt(te.Do,t);e?super(t,r,e):super(t,r),this.name="ArgumentUndefinedException"}}const ne=JSON.parse("{\"Zi\":\"The argument at '{0}' must be of type '{1}'\",\"mP\":\"Argument '{0}' must be one of ('{1}')\",\"sH\":\"The argument '{0}' is not greater than or equal to '{1}'\",\"PD\":\"The argument '{0}' is not less than or equal to '{1}'\",\"Pn\":\"The argument '{0}' is not less '{1}'\",\"ZU\":\"The argument '{0}' is not greater than '{1}'\",\"Gc\":\"The argument '{0}' is not equal to '{1}'\"}");class se{constructor(t,e){this.argument=t,this.argumentName=e}isNotNullOrUndefined(){return this.isNotNull().isNotUndefined()}isNotNull(){if(null==this.argument)throw new ee(this.argumentName);return this}isNotUndefined(){if(void 0===this.argument)throw new re(this.argumentName);return this}isTypeOf(t){if(!(this.argument instanceof t))throw new Dt(this.argumentName,Xt(ne.Zi,this.argumentName,t));return this}matches(t,e){let r,n;try{r=t(this.argument)}catch(t){n=t,r=!1}if(!r)throw new Dt(this.argumentName,e,n);return this}isOneOf(...t){if(-1==t.indexOf(this.argument))throw new Dt(this.argumentName,Xt(ne.mP,this.argumentName,t.join("', '")));return this}}class ie extends se{isNotNullOrUndefinedOrEmpty(){return this.isNotNullOrUndefined().isNotEmpty()}isNotEmpty(){if(0==this.argument.length)throw new Dt(this.argumentName);return this}}class ae extends se{isGreaterThanOrEqualTo(t){if(ct.DefaultComparer.compare(this.argument.valueOf(),t)<0)throw new Dt(Xt(ne.sH,this.argumentName,t),this.argumentName);return this}isLessThanOrEqualTo(t){if(ct.DefaultComparer.compare(this.argument.valueOf(),t)>0)throw new Dt(Xt(ne.PD,this.argumentName,t),this.argumentName);return this}isLessThan(t){if(-1!=ct.DefaultComparer.compare(this.argument.valueOf(),t))throw new Dt(Xt(ne.Pn,this.argumentName,t),this.argumentName);return this}isGreaterThan(t){if(1!=ct.DefaultComparer.compare(this.argument.valueOf(),t))throw new Dt(Xt(ne.ZU,this.argumentName,t),this.argumentName);return this}isEqualTo(t){if(0!=ct.DefaultComparer.compare(this.argument.valueOf(),t))throw new Dt(Xt(ne.Gc,this.argumentName,t),this.argumentName);return this}}class oe extends bt{constructor(t,e,r,n){const s=Xt(te.c2,t,e,r);n?super(s,n):super(s),this.name="OutOfBoundsException"}}function ue(t,e,r){if(t>r||t<e)throw new oe("value",e,r)}var he,ce,fe,le,pe,de,me,ge,we,ve,ye,Me,ke,Ee,Oe,xe,be,We,Se,Ne,Te;class Ae{constructor(t,e,r,n){he.set(this,void 0),ce.set(this,void 0),fe.set(this,void 0),le.set(this,void 0),wt(this,ce,t,"f"),wt(this,he,e,"f"),wt(this,fe,r,"f"),wt(this,le,n,"f")}get value(){return gt(this,he,"f")}get success(){return gt(this,ce,"f")}get error(){return gt(this,fe,"f")}get previousResult(){return gt(this,le,"f")}static ok(t,e){return new Ae(!0,t,void 0,e)}static fail(t,e,r){return new Ae(!1,e,t,r)}}he=new WeakMap,ce=new WeakMap,fe=new WeakMap,le=new WeakMap;class De extends Number{constructor(t){super(t),pe.set(this,void 0),ue(t,De.minValue,De.maxValue),wt(this,pe,t,"f")}[(pe=new WeakMap,Symbol.toPrimitive)](){return this.valueOf()}valueOf(){return 4294967295&gt(this,pe,"f").valueOf()}toString(){return this.valueOf().toString()}static parse(t){const e=parseInt(t);return new De(e)}static tryParse(t){const e=parseInt(t);try{return ue(e,De.minValue,De.maxValue),Ae.ok(new De(e))}catch(t){return t instanceof bt||t instanceof Error?Ae.fail(t.message):Ae.fail(`${t}`)}}}De.maxValue=4294967295,De.minValue=0;class Ce extends Number{constructor(t){super(t),de.set(this,void 0),ue(t,Ce.minValue,Ce.maxValue),wt(this,de,t,"f")}[(de=new WeakMap,Symbol.toPrimitive)](){return this.valueOf()}valueOf(){return 65535&gt(this,de,"f").valueOf()}toString(){return this.valueOf().toString()}static parse(t){const e=parseInt(t);return new Ce(e)}static tryParse(t){const e=parseInt(t);try{return ue(e,Ce.minValue,Ce.maxValue),Ae.ok(new Ce(e))}catch(t){return t instanceof bt||t instanceof Error?Ae.fail(t.message):Ae.fail(`${t}`)}}}Ce.maxValue=65535,Ce.minValue=0;class _e extends Number{constructor(t){super(t),me.set(this,void 0),ue(t,_e.minValue,_e.maxValue),wt(this,me,t,"f")}[(me=new WeakMap,Symbol.toPrimitive)](){return this.valueOf()}valueOf(){return 255&gt(this,me,"f").valueOf()}toString(){return this.valueOf().toString()}static parse(t){const e=parseInt(t);return new _e(e)}static tryParse(t){const e=parseInt(t);try{return ue(e,_e.minValue,_e.maxValue),Ae.ok(new _e(e))}catch(t){return t instanceof bt||t instanceof Error?Ae.fail(t.message):Ae.fail(`${t}`)}}}_e.maxValue=255,_e.minValue=0;class Ie{constructor(...t){ge.set(this,void 0),we.set(this,void 0),ve.set(this,void 0),wt(this,ge,[...t],"f"),wt(this,ve,!0,"f")}append(t){gt(this,ge,"f").push(t),wt(this,ve,!0,"f")}appendLine(t){gt(this,ge,"f").push(t,P),wt(this,ve,!0,"f")}clear(){gt(this,ge,"f").length=0,wt(this,ve,!0,"f")}toString(){return gt(this,ve,"f")?(wt(this,ve,!1,"f"),wt(this,we,gt(this,ge,"f").join(F),"f")):gt(this,we,"f")||F}}ge=new WeakMap,we=new WeakMap,ve=new WeakMap;const je=/[-{}[\]]/gi;class $e{constructor(t,e,r,n,s,i,a,o,u,h,c){ye.set(this,void 0),Me.set(this,void 0),ke.set(this,void 0),Ee.set(this,void 0),Oe.set(this,void 0),xe.set(this,void 0),be.set(this,void 0),We.set(this,void 0),Se.set(this,void 0),Ne.set(this,void 0),Te.set(this,void 0),wt(this,ye,t,"f"),wt(this,Me,e,"f"),wt(this,ke,r,"f"),wt(this,Ee,n,"f"),wt(this,Oe,s,"f"),wt(this,xe,i,"f"),wt(this,be,a,"f"),wt(this,We,o,"f"),wt(this,Se,u,"f"),wt(this,Ne,h,"f"),wt(this,Te,c,"f")}toString(){const t=new Ie,e="0",r="-";return t.append(_t((gt(this,ye,"f").valueOf()>>>0).toString(16),8,e)),t.append(r),t.append(_t((gt(this,Me,"f").valueOf()>>>0).toString(16),4,e)),t.append(r),t.append(_t((gt(this,ke,"f").valueOf()>>>0).toString(16),4,e)),t.append(r),t.append(_t((gt(this,Ee,"f").valueOf()>>>0).toString(16),2,e)),t.append(_t((gt(this,Oe,"f").valueOf()>>>0).toString(16),2,e)),t.append(r),t.append(_t((gt(this,xe,"f").valueOf()>>>0).toString(16),2,e)),t.append(_t((gt(this,be,"f").valueOf()>>>0).toString(16),2,e)),t.append(_t((gt(this,We,"f").valueOf()>>>0).toString(16),2,e)),t.append(_t((gt(this,Se,"f").valueOf()>>>0).toString(16),2,e)),t.append(_t((gt(this,Ne,"f").valueOf()>>>0).toString(16),2,e)),t.append(_t((gt(this,Te,"f").valueOf()>>>0).toString(16),2,e)),t.toString()}valueOf(){return this.toString()}static newGuid(){return new $e(new De(qe(De.minValue.valueOf(),De.maxValue.valueOf())),Pe(),new Ce(4095&Pe().valueOf()|16384),new _e(10|Fe().valueOf()),Fe(),Fe(),Fe(),Fe(),Fe(),Fe(),Fe())}static parseString(t){const e=t.replace(je,"");return new $e(new De(parseInt(e.substr(0,8),16)),new Ce(parseInt(e.substr(8,4),16)),new Ce(parseInt(e.substr(12,4),16)),new _e(parseInt(e.substr(16,2),16)),new _e(parseInt(e.substr(18,2),16)),new _e(parseInt(e.substr(20,2),16)),new _e(parseInt(e.substr(22,2),16)),new _e(parseInt(e.substr(24,2),16)),new _e(parseInt(e.substr(26,2),16)),new _e(parseInt(e.substr(28,2),16)),new _e(parseInt(e.substr(30,2),16)))}}function Fe(){return new _e(qe(_e.minValue.valueOf(),_e.maxValue.valueOf()))}function Pe(){return new Ce(qe(Ce.minValue.valueOf(),Ce.maxValue.valueOf()))}function qe(t,e){const r=Math.random(),n=Math.floor(r*(e+1))+t;return n>e?e:n}ye=new WeakMap,Me=new WeakMap,ke=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,xe=new WeakMap,be=new WeakMap,We=new WeakMap,Se=new WeakMap,Ne=new WeakMap,Te=new WeakMap,$e.empty=new $e(new De(0),new Ce(0),new Ce(0),new _e(0),new _e(0),new _e(0),new _e(0),new _e(0),new _e(0),new _e(0),new _e(0));class Ve extends se{isValidGuid(){if(this.argument==$e.empty)throw new Dt(this.argumentName);return this}isOneOf(...t){let e=!1;for(let r of t)if(e=r.toString()===this.argument.toString(),e)break;if(!e)throw new Dt(this.argumentName,Xt(ne.mP,this.argumentName,t.join("', '")));return this}}class Le extends se{isNotNullOrUndefinedOrEmpty(){if(null===this.argument)throw new ee(this.argumentName);if(void 0===this.argument)throw new re(this.argumentName);if(this.argument===F)throw new Dt(this.argumentName);return this}isNotEmpty(){if(0==this.argument.length)throw new Dt(this.argumentName);return this}matchesRegex(t){if(!t.test(this.argument))throw new Dt(this.argumentName,`The string '${this.argument}' does not match the regular expression '${t}'`);return this}isGreaterThanOrEqualTo(t){if(ct.DefaultComparer.compare(this.argument.valueOf(),t)<0)throw new Dt(`The argument '${this.argumentName}' is not greater than or equal to '${t}'`,this.argumentName);return this}isLessThanOrEqualTo(t){if(ct.DefaultComparer.compare(this.argument.valueOf(),t)>0)throw new Dt(`The argument '${this.argumentName}' is not less than or equal to '${t}'`,this.argumentName);return this}isLessThan(t){if(-1!=ct.DefaultComparer.compare(this.argument.valueOf(),t))throw new Dt(`The argument '${this.argumentName}' is not less '${t}'`,this.argumentName);return this}isGreaterThan(t){if(1!=ct.DefaultComparer.compare(this.argument.valueOf(),t))throw new Dt(`The argument '${this.argumentName}' is not greater than '${t}'`,this.argumentName);return this}isEqualTo(t){if(0!=ct.DefaultComparer.compare(this.argument.valueOf(),t))throw new Dt(`The argument '${this.argumentName}' is not equal to '${t}'`,this.argumentName);return this}}const Be=(!0).toString(),Re=(!1).toString(),He=Be.toLowerCase(),Ue=Re.toLowerCase(),Je=Be,Ge=Re;class Ke extends bt{constructor(t,e){e?super(t,e):t?super(t):super(),this.name="NotSupportedException"}}function ze(t,e=!1){return(t=e?t.toLowerCase():t).startsWith(e?He:Je)?Ae.ok(!0):t.startsWith(e?Ue:Ge)?Ae.ok(!1):Ae.fail(`Value is not a boolean. value: ${t} (${e?"case-insensitive":"case-sensitive"})`)}function Ye(t,e=!1){const r=ze(t,e);if(r.success&&!A(r.value))return r.value;throw new Ke(r.error)}function Ze(){return()=>!0}function Qe(t){return()=>t<=new Date}function Xe(t){const e=new Date;return e.setDate(e.getDate()+t),Qe(e)}Ze.when=function(t){return t},Ze.at=Qe,Ze.in=function(t){const e=new Date;return e.setTime(e.getTime()+t),Qe(e)},Ze.now=function(){return()=>!0},Ze.tomorrow=function(){return Xe(1)},Ze.inSeconds=function(t){const e=new Date;return e.setSeconds(e.getSeconds()+t),Qe(e)},Ze.inMinutes=function(t){const e=new Date;return e.setMinutes(e.getMinutes()+t),Qe(e)},Ze.inHours=function(t){const e=new Date;return e.setHours(e.getHours()+t),Qe(e)},Ze.inDays=Xe,Ze.inMonths=function(t){const e=new Date;return e.setMonth(e.getMonth()+t),Qe(e)},Ze.inYears=function(t){const e=new Date;return e.setFullYear(e.getFullYear()+t),Qe(e)};class tr extends bt{constructor(){super("The cache has expired"),this.name="CacheExpiredException"}}var er,rr,nr,sr,ir;class ar{constructor(t,e){er.set(this,void 0),rr.set(this,void 0),jt(t)?wt(this,er,t(),"f"):wt(this,er,t,"f"),wt(this,rr,e,"f")}get valueAsync(){return new Promise(((t,e)=>{(async()=>{try{if(await this.expiredAsync)throw new tr;t(await gt(this,er,"f"))}catch(t){e(t)}})()}))}get expiredAsync(){return new Promise(((t,e)=>{try{t(gt(this,rr,"f").call(this,this))}catch(t){e(t)}}))}}er=new WeakMap,rr=new WeakMap;class or extends bt{constructor(t,e){const r=Xt(te.$9,t);e?super(r,e):super(r),this.name="KeyNotFoundException"}}class ur extends bt{constructor(t,e){const r=Xt(te.ZT,t);e?super(r,e):super(r),this.name="KeyAlreadyDefinedException"}}class hr{constructor(){nr.set(this,void 0),wt(this,nr,new Map,"f")}add(t,e,r){if(gt(this,nr,"f").has(t))throw new ur(t);gt(this,nr,"f").set(t,new ar(e,r))}async addOrGetAsync(t,e,r){const n=gt(this,nr,"f").get(t);if(void 0!==n&&!n.expiredAsync)return await n.valueAsync;const s=e(t);return gt(this,nr,"f").set(t,new ar(s,r)),await s}addOrReplace(t,e,r){gt(this,nr,"f").set(t,new ar(e,r))}async cleanAsync(){for(var t of gt(this,nr,"f")){const e=t[1],r=t[0];await e.expiredAsync&&gt(this,nr,"f").delete(r)}}async getAsync(t){const e=gt(this,nr,"f").get(t);if(void 0===e)throw new or(t);if(await e.expiredAsync)throw gt(this,nr,"f").delete(t),new or(t);return await e.valueAsync}async tryGetAsync(t){const e=gt(this,nr,"f").get(t);return void 0===e?{success:!1}:await e.expiredAsync?(gt(this,nr,"f").delete(t),{success:!1}):{success:!0,value:await e.valueAsync}}replace(t,e,r){if(!gt(this,nr,"f").has(t))throw new or(t);gt(this,nr,"f").set(t,new ar(e,r))}}nr=new WeakMap;class cr{compare(t,e){return t.localeCompare(e,void 0,{sensitivity:"accent"})}equals(t,e){return 0===this.compare(t,e)}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}}class fr{constructor(t,e){if(sr.set(this,void 0),ir.set(this,void 0),A(t)&&A(e))throw new Dt("You must provide at least one argument.");wt(this,sr,t,"f"),wt(this,ir,e,"f")}compare(t,e){if(gt(this,sr,"f"))return gt(this,sr,"f").call(this,t,e);throw new re("The comparer")}equals(t,e){if(gt(this,ir,"f"))return gt(this,ir,"f").call(this,t,e);throw new re("The equality comparer")}greaterThan(t,e){return this.compare(t,e)>0}greaterThanOrEqual(t,e){return this.compare(t,e)>=0}lessThan(t,e){return this.compare(t,e)<0}lessThanOrEqual(t,e){return this.compare(t,e)<=0}}function lr(t){return t.split(B)}function pr(t){return"string"==typeof t}function dr(...t){let e={};for(let r=0;r<t.length;r++)gr(t[r],e);return e}sr=new WeakMap,ir=new WeakMap;const mr=dr;function gr(t,e){for(let r in t)t.hasOwnProperty(r)&&("[object Object]"===Object.prototype.toString.call(t[r])?e[r]=dr(e[r],t[r]):e[r]=t[r])}var wr,vr,yr,Mr,kr,Er,Or,xr,br,Wr,Sr,Nr,Tr,Ar,Dr,Cr,_r,Ir,jr,$r,Fr,Pr,qr,Vr,Lr,Br,Rr,Hr,Ur,Jr,Gr,Kr,zr,Yr,Zr,Qr,Xr,tn,en,rn,nn,sn,an,on,un,hn,cn,fn,ln,pn,dn,mn,gn,wn,vn,yn,Mn,kn,En,On,xn,bn,Wn,Sn,Nn,Tn,An,Dn;class Cn{constructor(t){wr.set(this,void 0),wt(this,wr,t,"f")}getSection(t){if($t(t))return this;const e=lr(t);let r=0,n=gt(this,wr,"f");for(;r<e.length;){const t=n[e[r]];if(!it(t))throw new Dt("key","Key is not a section. Try using get");n=t,r++}return new Cn(n)}get(t){if($t(t))return gt(this,wr,"f");{const e=lr(t);let r=0,n=gt(this,wr,"f");for(;r<e.length;){const t=n[e[r]];if(!it(t))return t;n=t,r++}return n}}}wr=new WeakMap;class _n{constructor(t){vr.set(this,void 0),wt(this,vr,new Cn(t),"f")}get root(){return gt(this,vr,"f")}getSection(t){return this.root.getSection(t)}get(t){return this.root.get(t)}}vr=new WeakMap;class In{constructor(){yr.set(this,!1),Mr.set(this,[]),kr.set(this,void 0)}build(t){if(t||gt(this,yr,"f")||A(gt(this,kr,"f"))){let t={};for(const e of gt(this,Mr,"f"))t=mr(t,e);wt(this,kr,new _n(t),"f"),wt(this,yr,!1,"f")}return gt(this,kr,"f")}append(t){return pr(t)&&(t=JSON.parse(t)),gt(this,Mr,"f").push(t),gt(this,yr,"f")||wt(this,yr,!0,"f"),this}}function jn(t){return"string"==typeof t||!isNaN(+t)}function $n(t,e){if(t instanceof $e)return new Ve(t,e);if(Array.isArray(t))return new ie(t,e);if("string"==typeof t)return new Le(t,e);if("object"==typeof t)return new se(t,e);if(jn(t))return new ae(t,e);throw new Ke("the argument type is not supported")}yr=new WeakMap,Mr=new WeakMap,kr=new WeakMap;class Fn{next(...t){const e=!this.moveNext();return{done:e,value:e?void 0:this.current}}}class Pn extends bt{constructor(t,e){e?super(t,e):t?super(t):super(),this.name="NullReferenceException"}}class qn extends Fn{constructor(t,e){super(),Er.set(this,void 0),Or.set(this,void 0),xr.set(this,void 0),wt(this,Er,t,"f"),wt(this,Or,e,"f")}get current(){if(A(gt(this,xr,"f")))throw new Pn;return gt(this,xr,"f")}moveNext(){return gt(this,Er,"f").moveNext()?(wt(this,xr,gt(this,Er,"f").current,"f"),!0):gt(this,Or,"f").moveNext()?(wt(this,xr,gt(this,Or,"f").current,"f"),!0):(wt(this,xr,void 0,"f"),!1)}peek(){let t;return A(t=gt(this,Er,"f").peek())?(A(t=gt(this,Or,"f").peek()),t):t}reset(){gt(this,Er,"f").reset(),gt(this,Or,"f").reset()}}Er=new WeakMap,Or=new WeakMap,xr=new WeakMap;class Vn extends Fn{constructor(t){super(),br.set(this,void 0),Wr.set(this,-1),wt(this,br,t,"f")}get current(){return(gt(this,Wr,"f")>=gt(this,br,"f").length||gt(this,Wr,"f")<0)&&this.throwOutOfBoundsException(),gt(this,br,"f")[gt(this,Wr,"f")]}moveNext(){var t;return gt(this,Wr,"f")<gt(this,br,"f").length&&wt(this,Wr,(t=gt(this,Wr,"f"),++t),"f"),gt(this,Wr,"f")<gt(this,br,"f").length}peek(){if(!(gt(this,Wr,"f")+1>=gt(this,br,"f").length))return gt(this,br,"f")[gt(this,Wr,"f")+1]}reset(){wt(this,Wr,-1,"f")}throwOutOfBoundsException(){throw new oe("internal pointer",0,gt(this,br,"f").length-1)}}br=new WeakMap,Wr=new WeakMap;class Ln extends Fn{constructor(t){super(),Sr.set(this,void 0),Nr.set(this,void 0),wt(this,Sr,t,"f"),wt(this,Nr,new Vn(t.keys),"f")}get current(){const t=gt(this,Nr,"f").current;return{key:t,value:gt(this,Sr,"f").itemByKey(t)}}moveNext(){return gt(this,Nr,"f").moveNext()}peek(){const t=gt(this,Nr,"f").peek();if(void 0!==t)return{key:t,value:gt(this,Sr,"f").itemByKey(t)}}reset(){gt(this,Nr,"f").reset()}}Sr=new WeakMap,Nr=new WeakMap;class Bn extends Fn{constructor(t,e){if(super(),Tr.set(this,void 0),Ar.set(this,void 0),Dr.set(this,void 0),Cr.set(this,void 0),_r.set(this,void 0),t!=(t>0?Math.floor(t):Math.ceil(t)))throw new Dt("Only integers are supported");wt(this,Tr,t,"f"),wt(this,Ar,e,"f"),wt(this,_r,-1,"f"),wt(this,Dr,1,"f")}get current(){if(gt(this,_r,"f")<0)throw new bt("Call moveNext first");if(void 0===gt(this,Cr,"f"))throw new bt("Current is undefined");return gt(this,Cr,"f")}moveNext(){var t;return wt(this,Cr,this.peek(),"f"),void 0!==gt(this,Cr,"f")&&(wt(this,_r,(t=gt(this,_r,"f"),++t),"f"),!0)}peek(){const t=gt(this,_r,"f")+1,e=gt(this,Tr,"f")+t*gt(this,Dr,"f");if(t<gt(this,Ar,"f"))return e}reset(){wt(this,_r,-1,"f")}}Tr=new WeakMap,Ar=new WeakMap,Dr=new WeakMap,Cr=new WeakMap,_r=new WeakMap;class Rn extends Fn{constructor(t,e){super(),Ir.set(this,void 0),jr.set(this,void 0),$r.set(this,void 0),wt(this,Ir,t,"f"),wt(this,jr,e,"f")}get current(){if(void 0===gt(this,$r,"f"))throw new bt("Current is undefined");return gt(this,$r,"f")}moveNext(){return wt(this,$r,this.peek(),"f"),void 0!==gt(this,$r,"f")&&gt(this,Ir,"f").moveNext()}peek(){const t=gt(this,Ir,"f").peek();if(void 0!==t)return gt(this,jr,"f").call(this,t)}reset(){gt(this,Ir,"f").reset()}}Ir=new WeakMap,jr=new WeakMap,$r=new WeakMap;class Hn extends Fn{constructor(t,e){super(),Fr.set(this,void 0),Pr.set(this,void 0),qr.set(this,void 0),Vr.set(this,void 0),wt(this,Pr,t,"f"),wt(this,qr,e,"f")}get current(){if(void 0===gt(this,Vr,"f"))throw new bt("Current is undefined");return gt(this,Vr,"f")}moveNext(){return wt(this,Vr,this.peek(),"f"),void 0!==gt(this,Vr,"f")&&gt(this,Pr,"f").moveNext()}peek(){const t=gt(this,Pr,"f").peek();void 0!==t&&(gt(this,Fr,"f")||wt(this,Fr,gt(this,qr,"f").call(this,t).getEnumerator(),"f"),gt(this,Fr,"f").moveNext())}reset(){gt(this,Pr,"f").reset()}}Fr=new WeakMap,Pr=new WeakMap,qr=new WeakMap,Vr=new WeakMap;class Un extends Fn{constructor(t,e){super(),Lr.set(this,void 0),Br.set(this,void 0),Rr.set(this,void 0),Hr.set(this,void 0),wt(this,Lr,t,"f"),wt(this,Br,e,"f"),wt(this,Hr,0,"f")}get current(){if(void 0===gt(this,Rr,"f"))throw new bt("Current is undefined");return gt(this,Rr,"f")}moveNext(){return wt(this,Rr,this.peek(),"f"),void 0!==gt(this,Rr,"f")&&gt(this,Lr,"f").moveNext()}peek(){for(var t;gt(this,Hr,"f")<gt(this,Br,"f");){if(!gt(this,Lr,"f").moveNext())return;wt(this,Hr,(t=gt(this,Hr,"f"),++t),"f")}return gt(this,Lr,"f").peek()}reset(){wt(this,Hr,0,"f"),gt(this,Lr,"f").reset()}}Lr=new WeakMap,Br=new WeakMap,Rr=new WeakMap,Hr=new WeakMap;class Jn extends Fn{constructor(t,e){super(),Ur.set(this,void 0),Jr.set(this,void 0),Gr.set(this,void 0),Kr.set(this,void 0),wt(this,Ur,t,"f"),wt(this,Jr,e,"f"),wt(this,Kr,0,"f")}get current(){if(void 0===gt(this,Gr,"f"))throw new bt("Current is undefined");return gt(this,Gr,"f")}moveNext(){var t;return wt(this,Gr,this.peek(),"f"),void 0!==gt(this,Gr,"f")&&(wt(this,Kr,(t=gt(this,Kr,"f"),++t),"f"),gt(this,Ur,"f").moveNext())}peek(){if(gt(this,Kr,"f")!=gt(this,Jr,"f"))return gt(this,Ur,"f").peek()}reset(){gt(this,Ur,"f").reset()}}Ur=new WeakMap,Jr=new WeakMap,Gr=new WeakMap,Kr=new WeakMap;class Gn extends Fn{constructor(t,e){super(),zr.set(this,void 0),Yr.set(this,void 0),Zr.set(this,void 0),wt(this,zr,t,"f"),wt(this,Yr,e,"f")}get current(){if(void 0===gt(this,Zr,"f"))throw new bt("Current is undefined");return gt(this,Zr,"f")}moveNext(){return wt(this,Zr,this.peek(),"f"),void 0!==gt(this,Zr,"f")&&gt(this,zr,"f").moveNext()}peek(){for(;;){const t=gt(this,zr,"f").peek();if(void 0===t)return;if(gt(this,Yr,"f").call(this,t))return t;if(!gt(this,zr,"f").moveNext())break}}reset(){gt(this,zr,"f").reset()}}zr=new WeakMap,Yr=new WeakMap,Zr=new WeakMap;class Kn extends Fn{constructor(t){super(),Qr.set(this,void 0),Xr.set(this,void 0),wt(this,Qr,t,"f"),wt(this,Xr,-1,"f")}get current(){return gt(this,Qr,"f").item(gt(this,Xr,"f"))}moveNext(){var t;try{return void 0!==this.peek()&&(wt(this,Xr,(t=gt(this,Xr,"f"),++t),"f"),!0)}catch{return!1}}peek(){const t=gt(this,Qr,"f").item(gt(this,Xr,"f")+1);if(void 0===t)throw new bt("End of enumerator");return t}reset(){wt(this,Xr,-1,"f")}}function zn(t,e){for(const r of t)if(r===e)return!0;return!1}function Yn(t,e){let r=0;for(const n of t){if(!1===e(n,r))break;r++}}function Zn(t,e){for(const r of t)if(!e(r))return!1;return!0}function Qn(t,e){for(const r of t)if(!e||e(r))return!0;return!1}function Xn(t,e){const r={};return t.where((t=>{const n=e(t);let s;return s=n instanceof Object?U(n):""+n,!r[s]&&(r[s]=!0,!0)}))}function ts(t){return[...t].length}function es(t,e){return t.sum(e)/t.count()}function rs(t,e){return t.where((t=>t instanceof e))}Qr=new WeakMap,Xr=new WeakMap;class ns extends bt{constructor(t,e){e?super(t,e):t?super(t):super(),this.name="NotImplementedException"}}class ss{static range(t,e){return new ds(t,e)}static empty(){return ss.asEnumerable([])}static asArray(t){return function(t){return[...t]}(t)}static asEnumerable(t){return Array.isArray(t)?new as([...t]):t}}class is{[Symbol.iterator](){return this.getEnumerator()}append(t){return this.concat(ss.asEnumerable([t]))}concat(t){return new hs(new qn(this.getEnumerator(),t.getEnumerator()))}prepend(t){return new hs(new qn(new Vn([t]),this.getEnumerator()))}contains(t){return zn(this,t)}forEach(t){return Yn(this,t)}item(t){return function(t,e){let r=0;for(const n of t){if(r<=e&&r===e)return n;r++}}(this,t)}all(t){return Zn(this,t)}any(t){return Qn(this,t)}average(t){return es(this,t)}count(){return ts(this)}distinct(t){return Xn(this,t)}first(t){return function(t,e){A(e)||(t=t.where(e));const r=t.getEnumerator();if(r.moveNext())return r.current;throw new Error("The collection is empty!")}(this,t)}firstOrDefault(t){return function(t,e){void 0!==e&&(t=t.where(e));const r=t.getEnumerator();return r.moveNext()?r.current:null}(this,t)}groupBy(t,e=ct.DefaultComparer){return this.select(t).distinct((t=>t)).orderBy((t=>t)).select((r=>new ps(this,r,t,e)))}last(t){return function(t,e){let r=t.toArray().reverse();if(0==r.length)throw new Error("The collection is empty!");if(A(e)||(r=r.filter(e)),r.length>0)return r[0];throw new Error("There is no last item matching the predicate!")}(this,t)}lastOrDefault(t){return function(t,e){let r=t.toArray().reverse();return 0==r.length?null:(A(e)||(r=r.filter(e)),r.length>0?r[0]:null)}(this,t)}max(t){return function(t,e){const r=t.select(e);return Math.max(...r)}(this,t)}min(t){return function(t,e){const r=t.select(e);return Math.min(...r)}(this,t)}ofType(t){return rs(this,t)}orderBy(t,e){return this.internalOrderBy(t,e||ct.DefaultComparer)}orderByDescending(t,e){return this.internalOrderBy(t,new Mt(e||ct.DefaultComparer))}select(t){return new ms(this,t)}selectMany(t){return new gs(this,t)}single(t){return function(t,e){A(e)||(t=t.where(e));const r=t.take(2).getEnumerator();let n;for(;r.moveNext();){if(!A(n))throw new Wt("More than one match in the collection!");n=r.current}if(A(n))throw new Pn("The result is undefined!");return n}(this,t)}singleOrDefault(t){return function(t,e){A(e)||(t=t.where(e));const r=t.take(2).getEnumerator();let n;for(;r.moveNext();){if(!A(n))return null;n=r.current}return A(n)?null:n}(this,t)}skip(t){return new ws(this,t)}split(t){return{pTrue:this.where((e=>t(e))),pFalse:this.where((e=>!t(e)))}}sum(t){return this.select((e=>t(e))).toArray().reduce(((t,e)=>t+e),0)}take(t){return new vs(this,t)}where(t){return new ys(this,t)}toArray(){return[...this]}toDictionary(t,e){const r=new us;return this.forEach((n=>{r.addKeyValue(t(n),e(n))})),r}toList(){return new fs(this)}internalOrderBy(t,e){const r=this.toList(),n=new vt(t,e);return r.sort(n),r}}class as{[Symbol.iterator](){return this._array[Symbol.iterator]()}constructor(t){this._array=t}all(t){return Zn(this._array,t)}append(t){return new as([...this,t])}any(t){return Qn(this._array,t)}average(t){return es(new as(this._array),t)}concat(t){return new as([...this._array,...t])}contains(t){return zn(this._array,t)}count(){return ts(this._array)}distinct(t){return Xn(new as(this._array),t)}first(t){const e=this.firstOrDefault(t);if(A(e))throw new Wt("There are no results");return e}firstOrDefault(t){const e=A(t)?this._array[0]:this._array.find(t);return A(e)?null:e}forEach(t){return Yn(this._array,t)}getEnumerator(){return new Vn(this._array)}groupBy(t,e=ct.DefaultComparer){const r=this.select(t).distinct((t=>t)).orderBy((t=>t)).toArray().reduce(((r,n)=>{const s=this.where((r=>e.equals(t(r),n)));return s.key=n,r.push(s),r}),new Array);return new as(r)}item(t){return this._array[t]}last(t){const e=this.lastOrDefault(t);if(A(e))throw new Wt("There are no results");return e}lastOrDefault(t){if(A(t))return this._array[this._array.length-1]||null;const e=this._array.filter(t),r=e[e.length-1];return A(r)?null:r}max(t){return Math.max(...this._array.map(t))}min(t){return Math.min(...this._array.map(t))}ofType(t){return rs(new as(this._array),t)}orderBy(t,e){return this.internalOrderBy(t,e||ct.DefaultComparer)}orderByDescending(t,e){return this.internalOrderBy(t,new Mt(e||ct.DefaultComparer))}internalOrderBy(t,e){const r=this.toArray(),n=new vt(t,e);return r.sort(((t,e)=>n.compare(t,e))),new as(r)}prepend(t){return new as([t,...this._array])}select(t){return new as(this._array.map(t))}selectMany(t){return new as(this._array.reduce(((e,r)=>[...e,...t(r)]),[]))}single(t){const e=this.singleOrDefault(t);if(A(e))throw new Wt("There is no result.");return e}singleOrDefault(t){const e=A(t)?this._array:this._array.filter(t);if(e.length>1)throw new Wt("More than one match in the collection.");return 1!==e.length?null:e[0]}skip(t){return new as(this._array.slice(t))}split(t){return{pTrue:this.where((e=>t(e))),pFalse:this.where((e=>!t(e)))}}sum(t){return this._array.map((e=>t(e))).reduce(((t,e)=>t+e),0)}take(t){return new as(this._array.slice(0,t))}toArray(){return[...this._array]}toDictionary(t,e){return this._array.reduce(((r,n)=>(r.addKeyValue(t(n),e(n)),r)),new us)}toList(){throw new ns}where(t){return new as(J(this._array,t))}}class os extends as{constructor(t){A(t)?super([]):super(ss.asArray(t))}get isReadOnly(){return!1}add(t){this._array.push(t)}get length(){return this._array.length}clear(){this._array.length=0}copyTo(t,e){return function(t,e,r){if(t.length>e.length-r)throw new Dt("array","Array is not big enough to store the collection");e.splice(r,t.length,...t)}(this._array,t,e)}remove(t){return function(t,e){const r=t.indexOf(e);return null!=r&&(t.splice(r,1),!0)}(this._array,t)}}class us extends is{constructor(t){if(super(),tn.set(this,void 0),this.isReadOnly=!1,wt(this,tn,{},"f"),t){const e=ss.asArray(t);for(const t of e)this.add(t)}}get length(){return Object.keys(gt(this,tn,"f")).length}get keys(){return Object.keys(gt(this,tn,"f")).map((t=>gt(this,tn,"f")[t].key))}get values(){return Object.keys(gt(this,tn,"f")).map((t=>gt(this,tn,"f")[t].value))}add(t){const e=U(t.key);if(void 0!==gt(this,tn,"f")[U(t.key)])throw new ur(t.key);gt(this,tn,"f")[e]=t}addKeyValue(t,e){this.add({key:t,value:e})}itemByKey(t){const e=U(t);if(void 0===gt(this,tn,"f")[e])throw new or(t);return gt(this,tn,"f")[e].value}containsKey(t){const e=U(t);return void 0!==gt(this,tn,"f")[e]}removeByKey(t){const e=U(t);return void 0!==gt(this,tn,"f")[e]&&(delete gt(this,tn,"f")[e],!0)}tryGetValue(t){try{return{value:this.itemByKey(t),success:!0}}catch{return{success:!1}}}clear(){wt(this,tn,{},"f")}remove(t){const e=U(t.key);return void 0!==gt(this,tn,"f")[e]&&gt(this,tn,"f")[e].value===t.value&&(delete gt(this,tn,"f")[e],!0)}contains(t){const e=U(t.key);return void 0!==gt(this,tn,"f")[e]&&gt(this,tn,"f")[e].value===t.value}copyTo(t,e){t.splice(e,this.length,...this.toArray())}getEnumerator(){return new Ln(this)}}tn=new WeakMap;class hs extends is{constructor(t){super(),en.set(this,void 0),wt(this,en,t,"f")}getEnumerator(){return gt(this,en,"f")}}en=new WeakMap;class cs extends is{constructor(t){if(super(),rn.set(this,void 0),nn.set(this,void 0),sn.set(this,void 0),wt(this,sn,0,"f"),t)for(const e of ss.asArray(t))this.add(e)}append(t){return this.concat(ss.asEnumerable([t]))}concat(t){return new hs(new qn(this.getEnumerator(),t.getEnumerator()))}prepend(t){return ss.asEnumerable([t]).concat(this)}get length(){return gt(this,sn,"f")}get isReadOnly(){return!1}add(t){var e;const r={value:t};void 0===gt(this,nn,"f")?wt(this,nn,wt(this,rn,r,"f"),"f"):(gt(this,nn,"f").next=r,wt(this,nn,r,"f")),wt(this,sn,(e=gt(this,sn,"f"),++e),"f")}clear(){wt(this,nn,wt(this,rn,void 0,"f"),"f"),wt(this,sn,0,"f")}contains(t){if(void 0===gt(this,rn,"f"))return!1;let e=!1;return this.traverse(gt(this,rn,"f"),(r=>!(e=r.value===t))),e}copyTo(t,e){throw new Error("copyTo Error/Method not implemented.")}remove(t){throw new Error("remove Error/Method not implemented.")}forEach(t){let e=0;if(void 0!==gt(this,rn,"f"))return this.traverse(gt(this,rn,"f"),(r=>t(r.value,e++)))}getEnumerator(){return new Kn(this)}item(t){if(void 0!==gt(this,rn,"f")){if(0==t)return gt(this,rn,"f").value;let e,r=0;return this.traverse(gt(this,rn,"f"),(n=>{r==t&&(e=n.value),r++})),e}}ofType(t){return this.where((e=>e instanceof t)).select((t=>t))}toArray(){const t=[],e=this.getEnumerator();for(;e.moveNext();)t.push(e.current);return t}toDictionary(t,e){return new us(this.toArray().map((r=>({key:t(r),value:e(r)}))))}toList(){return new fs(this)}traverse(t,e){if(!1!==e(t)&&void 0!==t.next)return this.traverse(t.next,e)}}rn=new WeakMap,nn=new WeakMap,sn=new WeakMap;class fs extends os{addRange(t){const e=ss.asArray(t);this._array=this._array.concat(e)}find(t,e=!1){if(!e){const e=this.indexOf(t);return void 0!==e?this.item(e):void 0}for(const e of this._array)if(at(e,t))return e}indexOf(t,e=!1){if(e){let e;return this.forEach(((r,n)=>{if(at(r,t))return e=n,!1})),e}{const e=this._array.indexOf(t);if(-1==e)return;return e}}insert(t,e){this._array.splice(e,0,t)}prepend(t){return this.insert(t,0),this}prependRange(t){const e=ss.asArray(t);this._array.splice(0,0,...e)}removeAt(t){this._array.splice(t,1)}sort(t=ct.DefaultComparer){this._array.sort(((e,r)=>t.compare(e,r)))}}class ls extends os{constructor(t){super(t)}get length(){return this.length}get isReadOnly(){return super.isReadOnly}append(t){return this.concat(ss.asEnumerable([t]))}concat(t){return new hs(new qn(this.getEnumerator(),t.getEnumerator()))}prepend(t){return ss.asEnumerable([t]).concat(this)}exceptWith(t){const e=t.getEnumerator();for(;e.moveNext();){const t=e.current;this.contains(t)&&this.remove(t)}}intersectWith(t){const e=t.toArray();this.forEach(((t,r)=>{-1==e.indexOf(t)&&this.remove(t)}))}isSubsetOf(t){const e=t.toArray();return this.toArray().every((t=>e.indexOf(t)>-1))}isSupersetOf(t){return t.toArray().every((t=>this.contains(t)))}overlaps(t){return t.toArray().some((t=>this.contains(t)))}setEquals(t){return this.isSubsetOf(t)&&this.isSupersetOf(t)}symmetricExceptWith(t){const e=new ls(new os(this.toArray()));e.intersectWith(t),this.unionWith(t),this.exceptWith(e)}unionWith(t){const e=t.getEnumerator();for(;e.moveNext();){const t=e.current;this.contains(t)||this.add(t)}}add(t){if(this.contains(t))throw new Dt("item","item already in set");this.add(t)}clear(){this.clear()}contains(t){return this.contains(t)}copyTo(t,e){this.copyTo(t,e)}remove(t){return this.remove(t)}forEach(t){this.forEach(t)}getEnumerator(){return this.getEnumerator()}item(t){return this.item(t)}ofType(t){return this.ofType(t)}toArray(){return this.toArray()}toDictionary(t,e){return this.toDictionary(t,e)}toList(){return this.toList()}}class ps extends is{constructor(t,e,r,n){super(),an.set(this,void 0),on.set(this,void 0),wt(this,on,t.where((t=>n.equals(r(t),e))),"f"),wt(this,an,e,"f")}get key(){return gt(this,an,"f")}getEnumerator(){return gt(this,on,"f").getEnumerator()}}an=new WeakMap,on=new WeakMap;class ds extends is{constructor(t,e){super(),un.set(this,void 0),hn.set(this,void 0),wt(this,un,t,"f"),wt(this,hn,e,"f")}getEnumerator(){return new Bn(gt(this,un,"f"),gt(this,hn,"f"))}}un=new WeakMap,hn=new WeakMap;class ms extends is{constructor(t,e){super(),cn.set(this,void 0),fn.set(this,void 0),wt(this,cn,t,"f"),wt(this,fn,e,"f")}getEnumerator(){return new Rn(gt(this,cn,"f").getEnumerator(),gt(this,fn,"f"))}}cn=new WeakMap,fn=new WeakMap;class gs extends is{constructor(t,e){super(),ln.set(this,void 0),pn.set(this,void 0),wt(this,ln,t,"f"),wt(this,pn,e,"f")}getEnumerator(){return new Hn(gt(this,ln,"f").getEnumerator(),gt(this,pn,"f"))}}ln=new WeakMap,pn=new WeakMap;class ws extends is{constructor(t,e){super(),dn.set(this,void 0),mn.set(this,void 0),wt(this,dn,t,"f"),wt(this,mn,e,"f")}getEnumerator(){return new Un(gt(this,dn,"f").getEnumerator(),gt(this,mn,"f"))}}dn=new WeakMap,mn=new WeakMap;class vs extends is{constructor(t,e){super(),gn.set(this,void 0),wn.set(this,void 0),wt(this,gn,t,"f"),wt(this,wn,e,"f")}getEnumerator(){return new Jn(gt(this,gn,"f").getEnumerator(),gt(this,wn,"f"))}}gn=new WeakMap,wn=new WeakMap;class ys extends is{constructor(t,e){super(),vn.set(this,void 0),yn.set(this,void 0),wt(this,vn,t,"f"),wt(this,yn,e,"f")}getEnumerator(){return new Gn(gt(this,vn,"f").getEnumerator(),gt(this,yn,"f"))}}vn=new WeakMap,yn=new WeakMap;class Ms extends Fn{constructor(t,e,r){super(),Mn.set(this,void 0),kn.set(this,void 0),En.set(this,void 0),On.set(this,void 0),wt(this,Mn,t,"f"),wt(this,kn,e,"f"),wt(this,On,r,"f"),wt(this,En,r,"f")}get current(){if(A(gt(this,On,"f")))throw new Pn;return gt(this,On,"f")}moveNext(){return void 0!==wt(this,On,this.peek(),"f")&&gt(this,Mn,"f").moveNext()}peek(){const t=gt(this,Mn,"f").peek();if(void 0!==t)return gt(this,kn,"f").call(this,gt(this,On,"f"),t)}reset(){gt(this,Mn,"f").reset(),wt(this,On,gt(this,En,"f"),"f")}}Mn=new WeakMap,kn=new WeakMap,En=new WeakMap,On=new WeakMap;class ks{constructor(t){xn.set(this,void 0),bn.set(this,-1),Wn.set(this,void 0),wt(this,xn,t,"f")}get current(){if(!A(gt(this,Wn,"f"))&&gt(this,bn,"f")<gt(this,xn,"f").length&&gt(this,bn,"f")>=0)return gt(this,Wn,"f");throw new oe("internal pointer",0,gt(this,xn,"f").length-1)}async moveNextAsync(){var t;return gt(this,bn,"f")<gt(this,xn,"f").length&&wt(this,bn,(t=gt(this,bn,"f"),++t),"f"),gt(this,bn,"f")<gt(this,xn,"f").length?(wt(this,Wn,await gt(this,xn,"f")[gt(this,bn,"f")],"f"),!0):(wt(this,Wn,void 0,"f"),!1)}}xn=new WeakMap,bn=new WeakMap,Wn=new WeakMap;class Es extends bt{constructor(t,e){e?super(t,e):t?super(t):super(),this.name="AlreadyDisposedException"}}class Os{constructor(){Sn.set(this,!1),Nn.set(this,[])}invoke(t,e){if(gt(this,Sn,"f"))throw new Es;for(const r of gt(this,Nn,"f")){if(gt(this,Sn,"f"))throw new Es;r.call(t,t,e)}}addHandler(t){if(gt(this,Sn,"f"))throw new Es;return gt(this,Nn,"f").push(t),t}removeHandler(t){if(gt(this,Sn,"f"))throw new Es;const e=gt(this,Nn,"f").indexOf(t);if(-1==e)throw new Dt("eventHandler","Handler is not in this Event");gt(this,Nn,"f").splice(e,1)}dispose(){gt(this,Sn,"f")||(wt(this,Sn,!0,"f"),gt(this,Nn,"f").length=0)}}Sn=new WeakMap,Nn=new WeakMap;class xs extends Os{constructor(){super(),Tn.set(this,void 0),An.set(this,void 0),Dn.set(this,void 0),wt(this,Tn,!1,"f")}addHandler(t){return super.addHandler(t),gt(this,Tn,"f")&&t.call(gt(this,An,"f"),gt(this,An,"f"),gt(this,Dn,"f")),t}invoke(t,e){gt(this,Tn,"f")||(wt(this,Tn,!0,"f"),wt(this,An,t,"f"),wt(this,Dn,e,"f"),super.invoke(t,e))}}Tn=new WeakMap,An=new WeakMap,Dn=new WeakMap;class bs extends bt{constructor(t){super(),this.name=t.name,this.message=t.message,this.stack=t.stack}}class Ws extends bt{constructor(t,e){const r=Xt(te.yU,t);e?super(r,e):super(r),this.name="FileNotFoundException"}}class Ss extends bt{constructor(t,e,r,n,s){const i=Xt(te.zM,e,t,r,n);s?super(i,s):super(i),this.name="OutOfBoundsException"}}class Ns extends bt{constructor(t,e,r,n){const s=Xt(te.a9,t,e,void 0!==r?r:F);n?super(s,n):super(s),this.name="InvalidTypeException"}}class Ts extends bt{constructor(t,e){e?super(t,e):super(t||te.qp),this.name="InvalidOperationException"}}function As(t){return t.replace(L,"\\$&")}function Ds(t,e){e=void 0!==e?As(e):q;const r=new RegExp(`^[${e}]+|[${e}]+$`,"g");return t.replace(r,F)}function Cs(t,e){e=void 0!==e?As(e):q;const r=new RegExp(`[${e}]+$`,"g");return t.replace(r,F)}function _s(...t){if(0==t.length)throw new Dt("path","Provide at least 1 path to combine");const e=t.map(((t,e)=>0==e?Cs(t,"/\\"):Ds(t,"/\\")));return t.findIndex((t=>t.indexOf("\\")>-1))>-1?e.join("\\"):e.join("/")}function Is(t){return t.endsWith("/")||t.endsWith("\\")?t:t.startsWith("/")||t.startsWith("\\")?_s(...t.split(t[0]).slice(0,-1),t[0]):t.indexOf("\\")>-1?_s(...t.split("\\").slice(0,-1),"\\"):_s(...t.split("/").slice(0,-1),"/")}function js(t,e){e=void 0!==e?As(e):q;const r=new RegExp(`^[${e}]+`,"g");return t.replace(r,F)}const $s=/^(([^:]+:\\)|([^:/?#]+:)?(\/\/([^/?#]*)[\\/])?)(([^\\/]+[\\/])*)([^/?#]*)(\?[^#]*)?(#.*)?$/gi;function Fs(t){return js(t,"/\\").replace($s,"$8")}function Ps(t){const e=Fs(t);return-1==e.indexOf(".")?"":e.substring(e.lastIndexOf("."))}function qs(t){const e=Fs(t);return-1==e.indexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function Vs(t,e=!1){let r=t.toLowerCase();return r=r.replace(/&/g," and "),r=r.replace(/@/g," at "),r=r.replace(/[,'"]/g,""),r=r.replace(/[^a-z0-9]+/g,"-"),r=r.replace(/-+/g,"-"),e||(r=r.replace(/(^-+)|(-+$)/g,"")),r}var Ls,Bs,Rs,Hs,Us;class Js{constructor(t,...e){Ls.set(this,void 0),Bs.set(this,void 0),Rs.set(this,void 0),Hs.set(this,void 0),this.indentationString="\t",wt(this,Hs,t,"f"),wt(this,Ls,e.map((t=>({indent:gt(this,Hs,"f"),value:t+P}))),"f"),wt(this,Rs,!0,"f")}appendLine(t){gt(this,Ls,"f").push({indent:gt(this,Hs,"f"),value:t+P}),wt(this,Rs,!0,"f")}clear(){gt(this,Ls,"f").length=0,wt(this,Rs,!0,"f")}indent(){var t;wt(this,Hs,(t=gt(this,Hs,"f"),++t),"f")}unindent(){var t;wt(this,Hs,(t=gt(this,Hs,"f"),--t),"f"),gt(this,Hs,"f")<0&&wt(this,Hs,0,"f")}toString(){return gt(this,Rs,"f")?(wt(this,Rs,!1,"f"),wt(this,Bs,gt(this,Ls,"f").map((t=>[this.indentationString.repeat(t.indent),t.value])).reduce(((t,e)=>[t,...e].join(F)),F),"f")):gt(this,Bs,"f")||F}}function Gs(){}Ls=new WeakMap,Bs=new WeakMap,Rs=new WeakMap,Hs=new WeakMap,function(t){t.Debug="DEBG",t.Error="EROR",t.Info="INFO",t.Trace="TRCE",t.Warn="WARN"}(Us||(Us={}));const Ks=Object.freeze({debug:Gs,debugError:Gs,error:Gs,errorError:Gs,info:Gs,infoError:Gs,trace:Gs,traceError:Gs,warn:Gs,warnError:Gs,scope:()=>Object.assign({dispose:Gs},zs)});let zs=Ks;function Ys(){return zs}function Zs(t){zs=t}function Qs(t,e){const r=t===Us.Error,n=t===Us.Warn,s=t===Us.Info,i=t===Us.Trace,a=t===Us.Debug;return e===Us.Error&&r||e===Us.Warn&&(r||n)||e===Us.Info&&(r||n||s)||e===Us.Trace&&(r||n||s||i)||e===Us.Debug&&(r||n||s||i||a)}const Xs=JSON.parse('{"g":"Object is disposed"}');var ti,ei,ri,ni,si,ii,ai;class oi{constructor(t,e){ti.add(this),ei.set(this,void 0),ri.set(this,void 0),ni.set(this,!1),wt(this,ri,t,"f"),wt(this,ei,e,"f")}debug(t){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").debug(gt(this,ti,"m",si).call(this,t))}debugError(t,e){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").debugError(t,gt(this,ti,"m",si).call(this,e))}error(t){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").error(gt(this,ti,"m",si).call(this,t))}errorError(t,e){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").errorError(t,gt(this,ti,"m",si).call(this,e))}info(t){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").info(gt(this,ti,"m",si).call(this,t))}infoError(t,e){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").infoError(t,gt(this,ti,"m",si).call(this,e))}trace(t){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").trace(gt(this,ti,"m",si).call(this,t))}traceError(t,e){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").traceError(t,gt(this,ti,"m",si).call(this,e))}warn(t){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").warn(gt(this,ti,"m",si).call(this,t))}warnError(t,e){gt(this,ti,"m",ii).call(this),gt(this,ri,"f").warnError(t,gt(this,ti,"m",si).call(this,e))}scope(t){return gt(this,ti,"m",ii).call(this),new oi(this,t)}dispose(){gt(this,ti,"m",ii).call(this),wt(this,ni,!0,"f")}}function ui(t,e){e.appendLine(`Error '${t.name}': ${t.message}`),void 0!==t.stack&&(e.indent(),e.appendLine(t.stack),e.unindent()),bt.isException(t)&&void 0!==t.innerException&&(e.appendLine("The following errors were also encountered:"),e.indent(),ui(t.innerException,e),e.unindent())}ei=new WeakMap,ri=new WeakMap,ni=new WeakMap,ti=new WeakSet,si=function(t){return`[${gt(this,ei,"f")}]${void 0!==t?" ":""}${t||null}`},ii=function(){if(gt(this,ni,"f"))throw new Error(Xs.g)};const hi={loggingVerbosity:Us.Info};class ci{constructor(t=hi){ai.set(this,void 0),wt(this,ai,t,"f")}debug(t){this.log(Us.Debug,new Js(0,t))}debugError(t,e){const r=new Js(0);void 0!==e?(r.appendLine(e),r.indent(),ui(t,r),r.unindent()):ui(t,r),this.log(Us.Debug,r)}error(t){this.log(Us.Error,new Js(0,t))}errorError(t,e){const r=new Js(0);void 0!==e?(r.appendLine(e),r.indent(),ui(t,r),r.unindent()):ui(t,r),this.log(Us.Error,r)}info(t){this.log(Us.Info,new Js(0,t))}infoError(t,e){const r=new Js(0);void 0!==e?(r.appendLine(e),r.indent(),ui(t,r),r.unindent()):ui(t,r),this.log(Us.Info,r)}trace(t){this.log(Us.Trace,new Js(0,t))}traceError(t,e){const r=new Js(0);void 0!==e?(r.appendLine(e),r.indent(),ui(t,r),r.unindent()):ui(t,r),this.log(Us.Trace,r)}warn(t){this.log(Us.Warn,new Js(0,t))}warnError(t,e){const r=new Js(0);void 0!==e?(r.appendLine(e),r.indent(),ui(t,r),r.unindent()):ui(t,r),this.log(Us.Warn,r)}scope(t){return new oi(this,t)}log(t,e){if(Qs(t,gt(this,ai,"f").loggingVerbosity)){const r=`[${t}] ${e.toString()}`;switch(t){case Us.Error:this._errorMethod(r);break;case Us.Warn:this._warnMethod(r);break;case Us.Info:this._infoMethod(r);break;case Us.Trace:this._traceMethod(r);break;case Us.Debug:this._debugMethod(r);break;default:this._defaultMethod(r)}}}}var fi,li,pi,di;ai=new WeakMap;class mi{constructor(...t){fi.set(this,!1),li.set(this,void 0),wt(this,li,t,"f")}dispose(){wt(this,fi,!0,"f");for(const t of gt(this,li,"f"))try{return t.dispose()}catch(t){if(!(t instanceof Es))throw t instanceof bt?new bt("An error occured while disposing an object",t):t instanceof Error?new bt("An error occured while disposing an object",new bs(t)):new bt(`An error occured while disposing an object: '${t}'`)}}track(t){if(gt(this,fi,"f"))throw new Es;gt(this,li,"f").push(t)}async disposeAsync(){return new Promise(((t,e)=>{try{for(const t of gt(this,li,"f"))return t.dispose();t()}catch(t){e(t)}}))}}fi=new WeakMap,li=new WeakMap;class gi{constructor(...t){pi.set(this,void 0),wt(this,pi,t,"f")}debug(t){for(const e of gt(this,pi,"f"))e.debug(t)}debugError(t,e){for(const r of gt(this,pi,"f"))e?r.debugError(t,e):r.debugError(t)}error(t){for(const e of gt(this,pi,"f"))e.error(t)}errorError(t,e){for(const r of gt(this,pi,"f"))e?r.errorError(t,e):r.errorError(t)}info(t){for(const e of gt(this,pi,"f"))e.info(t)}infoError(t,e){for(const r of gt(this,pi,"f"))e?r.infoError(t,e):r.infoError(t)}trace(t){for(const e of gt(this,pi,"f"))e.trace(t)}traceError(t,e){for(const r of gt(this,pi,"f"))e?r.traceError(t,e):r.traceError(t)}warn(t){for(const e of gt(this,pi,"f"))e.warn(t)}warnError(t,e){for(const r of gt(this,pi,"f"))e?r.warnError(t,e):r.warnError(t)}scope(t){const e=gt(this,pi,"f").map((e=>e.scope(t))),r=new mi(...e),n=new gi(...e);return Object.assign(n,r)}}pi=new WeakMap;const wi={loggingVerbosity:Us.Info,useTraceMethodForTraceLogLevel:!1};class vi extends ci{constructor(t,e=wi){super(e),di.set(this,void 0),wt(this,di,e,"f"),this._debugMethod=t.log.bind(t),this._defaultMethod=t.log.bind(t),this._errorMethod=(t.error||t.log).bind(t),this._infoMethod=(t.info||t.log).bind(t),this._traceMethod=gt(this,di,"f").useTraceMethodForTraceLogLevel?(t.trace||t.log).bind(t):this._defaultMethod,this._warnMethod=(t.warn||t.log).bind(t)}_errorMethod(){throw new ns}_warnMethod(){throw new ns}_infoMethod(){throw new ns}_traceMethod(){throw new ns}_debugMethod(){throw new ns}_defaultMethod(){throw new ns}}function yi(t){return(e,r)=>{const n=e[r];if(!n)throw"logger is no set yet";e[r]=n.scope(t)}}var Mi,ki,Ei,Oi,xi,bi,Wi,Si,Ni,Ti,Ai,Di,Ci,_i,Ii,ji,$i,Fi,Pi,qi,Vi,Li,Bi,Ri,Hi,Ui,Ji,Gi,Ki,zi,Yi,Zi,Qi,Xi,ta;di=new WeakMap;class ea{constructor(t){Mi.set(this,void 0),ki.set(this,void 0),Ei.set(this,void 0),Oi.set(this,void 0),xi.set(this,void 0),bi.set(this,(()=>{gt(this,Ei,"f").invoke(this,gt(this,xi,"f"))})),Wi.set(this,(()=>{gt(this,Oi,"f").invoke(this,gt(this,xi,"f"))})),wt(this,xi,t,"f"),wt(this,ki,{},"f"),wt(this,Mi,{},"f"),wt(this,Ei,new Os,"f"),wt(this,Oi,new Os,"f")}subscribe(t,e){return this.subscribeCore(t,e,!0)}unsubscribe(t){const e=gt(this,Mi,"f")[t];e&&(gt(this,Ei,"f").removeHandler(e),delete gt(this,Mi,"f")[t]);const r=gt(this,ki,"f")[t];r&&(gt(this,Oi,"f").removeHandler(r),delete gt(this,ki,"f")[t])}get value(){return gt(this,xi,"f")}valueOf(){return gt(this,xi,"f")}toString(){return`${gt(this,xi,"f")}`}async toPromise(){return await new Promise(((t,e)=>{const r=this.subscribe((n=>{try{t(n)}catch(t){e(t)}finally{this.unsubscribe(r)}}))}))}subscribeCore(t,e,r=!0){const n=$e.newGuid().toString(),s=(e,r)=>t(r);if(gt(this,Mi,"f")[n]=s,gt(this,Ei,"f").addHandler(s),e){const t=(t,r)=>e(r);gt(this,ki,"f")[n]=t,gt(this,Oi,"f").addHandler(t)}return r&&t(gt(this,xi,"f")),n}getValue(){return gt(this,xi,"f")}setValue(t){gt(this,Wi,"f").call(this),wt(this,xi,t,"f"),gt(this,bi,"f").call(this)}}Mi=new WeakMap,ki=new WeakMap,Ei=new WeakMap,Oi=new WeakMap,xi=new WeakMap,bi=new WeakMap,Wi=new WeakMap;class ra{constructor(t){Si.set(this,new xs),Ni.set(this,!1),null==t||t.addHandler((()=>{wt(this,Ni,!0,"f"),gt(this,Si,"f").invoke(this,void 0)}))}get onCancelled(){return gt(this,Si,"f")}get isCancellationRequested(){return gt(this,Ni,"f")}}Si=new WeakMap,Ni=new WeakMap,ra.default=new ra;class na{constructor(t){Ti.set(this,[]),Ai.set(this,new xs),Di.set(this,!1),t&&t.onCancelled.addHandler((()=>this.cancel()))}get isCancellationRequested(){return gt(this,Di,"f")}get token(){return new ra(gt(this,Ai,"f"))}cancel(){gt(this,Di,"f")||(wt(this,Di,!0,"f"),gt(this,Ti,"f").forEach((t=>clearTimeout(t))),gt(this,Ai,"f").invoke(this,void 0))}cancelAfter(t){gt(this,Di,"f")||gt(this,Ti,"f").push(setTimeout((()=>this.cancel()),t))}}Ti=new WeakMap,Ai=new WeakMap,Di=new WeakMap;class sa{constructor(t,e){Ci.set(this,void 0),_i.set(this,void 0),Ii.set(this,new xs),wt(this,Ci,new na(e),"f"),wt(this,_i,new Promise(((e,r)=>{(async()=>{try{if(gt(this,Ci,"f").isCancellationRequested)return;e(await t)}catch(t){r(t)}finally{const e=()=>this.cancelled;gt(this,Ii,"f").invoke(this,{get promise(){return t},get cancelled(){return e()}})}})()})),"f")}get cancelled(){return gt(this,Ci,"f").isCancellationRequested}cancel(){gt(this,Ci,"f").cancel(),gt(this,Ii,"f").invoke(this,{promise:gt(this,_i,"f"),cancelled:this.cancelled})}then(t,e){let r;r=gt(this,Ci,"f").isCancellationRequested?new Promise(Gs):gt(this,_i,"f").then(t,e);const n=new sa(r,gt(this,Ci,"f").token);return this.finally(((t,e)=>{e&&n.cancel()})),n}catch(t){let e;e=gt(this,Ci,"f")?new Promise(Gs):gt(this,_i,"f").catch(t);const r=new sa(e,gt(this,Ci,"f").token);return this.finally(((t,e)=>{e&&r.cancel()})),r}finally(t){return t&&gt(this,Ii,"f").addHandler(((e,r)=>t(r.promise,r.cancelled))),this}}Ci=new WeakMap,_i=new WeakMap,Ii=new WeakMap;class ia extends ea{constructor(t,e=!0){super(),ji.set(this,void 0),$i.set(this,void 0),Fi.set(this,(t=>A(gt(this,$i,"f"))?Promise.resolve().then(t):gt(this,$i,"f").then(t).finally(((e,r)=>{r&&gt(this,Fi,"f").call(this,t)})))),wt(this,ji,(async()=>{this.setValue(await t())}).bind(this),"f"),e&&this.update()}subscribe(t,e){const r=super.subscribeCore(t,e,!1);return gt(this,$i,"f")?gt(this,Fi,"f").call(this,(()=>t(this.value))):t(this.value),r}get value(){return this.getValue()}set value(t){this.setValue(t)}update(){gt(this,$i,"f")&&gt(this,$i,"f").cancel(),wt(this,$i,new sa(gt(this,ji,"f").call(this)),"f")}}ji=new WeakMap,$i=new WeakMap,Fi=new WeakMap;class aa extends ea{constructor(t){super(t)}get value(){return this.getValue()}set value(t){this.setValue(t)}}class oa extends ea{constructor(t,e){super(),Pi.set(this,void 0);const r=(async()=>{this.setValue(await t()),wt(this,Pi,setTimeout(r,e),"f")}).bind(this);r()}dispose(){gt(this,Pi,"f")&&clearTimeout(gt(this,Pi,"f"))}}Pi=new WeakMap;class ua extends Number{constructor(t){super(t),qi.set(this,void 0),ue(t,ua.minValue,ua.maxValue),wt(this,qi,t,"f")}[(qi=new WeakMap,Symbol.toPrimitive)](){return this.valueOf()}valueOf(){return 65535&gt(this,qi,"f").valueOf()}toString(){return this.valueOf().toString()}static parse(t){const e=parseInt(t);return new ua(e)}static tryParse(t){const e=parseInt(t);try{return ue(e,ua.minValue,ua.maxValue),Ae.ok(new ua(e))}catch(t){return t instanceof bt||t instanceof Error?Ae.fail(t.message):Ae.fail(`${t}`)}}}ua.maxValue=32767,ua.minValue=-32768;class ha extends Number{constructor(t){super(t),Vi.set(this,void 0),ue(t,ha.minValue,ha.maxValue),wt(this,Vi,t,"f")}[(Vi=new WeakMap,Symbol.toPrimitive)](){return this.valueOf()}valueOf(){return 4294967295&gt(this,Vi,"f").valueOf()}static parse(t){const e=parseInt(t);return new ha(e)}static tryParse(t){const e=parseInt(t);try{return ue(e,ha.minValue,ha.maxValue),Ae.ok(new ha(e))}catch(t){return t instanceof bt||t instanceof Error?Ae.fail(t.message):Ae.fail(`${t}`)}}}ha.maxValue=2147483647,ha.minValue=-2147483648;class ca extends Number{constructor(t){super(t),Li.set(this,void 0),ue(t,ca.minValue,ca.maxValue),wt(this,Li,t,"f")}[(Li=new WeakMap,Symbol.toPrimitive)](){return this.valueOf()}valueOf(){return 127&gt(this,Li,"f").valueOf()}toString(){return this.valueOf().toString()}static parse(t){const e=parseInt(t);return new ca(e)}static tryParse(t){const e=parseInt(t);try{return ue(e,ca.minValue,ca.maxValue),Ae.ok(new ca(e))}catch(t){return t instanceof bt||t instanceof Error?Ae.fail(t.message):Ae.fail(`${t}`)}}}function fa(t){return new _e(t)}function la(t){return new ua(t)}function pa(t){return new ha(t)}function da(t){return new ca(t)}function ma(t){return new Ce(t)}function ga(t){return new De(t)}function wa(t,e){return t%e==0}function va(t){return wa(t,2)}function ya(t){return!va(t)}ca.maxValue=127,ca.minValue=-127;class Ma{constructor(t){Bi.set(this,void 0),Ri.set(this,void 0),wt(this,Bi,t,"f"),wt(this,Ri,[],"f")}start(t){return gt(this,Ri,"f").push(jt(t)?{name:t.toString(),executeAsync:t}:t),this}then(t){return gt(this,Ri,"f").push(jt(t)?{name:t.toString(),executeAsync:t}:t),this}async executeAsync(t){const e=[...gt(this,Ri,"f")],r=gt(this,Bi,"f").scope("Pipeline::Execute");for(r.debug("Starting Pipeline");e.length>0;){const n=e.shift();A(n)||(r.debug(`Executing ${n.name}`),await n.executeAsync(t),r.debug(`Completed ${n.name}`))}r.debug("Finished Pipeline")}}Bi=new WeakMap,Ri=new WeakMap;class ka{constructor(t,e){Hi.set(this,void 0),Ui.set(this,void 0),Ji.set(this,void 0),Gi.set(this,void 0),Ki.set(this,void 0),zi.set(this,void 0),Yi.set(this,void 0),Zi.set(this,void 0),Qi.set(this,void 0),wt(this,Qi,(async()=>{})(),"f"),wt(this,Gi,!1,"f"),wt(this,Ki,!1,"f"),wt(this,Ui,new xs,"f"),wt(this,Hi,e,"f"),wt(this,Zi,t,"f"),this.update(gt(this,Zi,"f"))}update(t=gt(this,Zi,"f")){void 0!==t&&(wt(this,Zi,t,"f"),wt(this,Ki,!1,"f"),wt(this,Gi,!1,"f"),jt(gt(this,Zi,"f"))?wt(this,Ji,Promise.resolve(gt(this,Zi,"f").call(this)),"f"):wt(this,Ji,Promise.resolve(gt(this,Zi,"f")),"f"),wt(this,Qi,new Promise(((t,e)=>{(async()=>{let r=!1;const n=gt(this,Ji,"f");try{const e=await n;if(gt(this,Ji,"f")!==n)return void(r=!0);wt(this,Yi,e,"f"),t(e),wt(this,Ki,!0,"f")}catch(t){if(gt(this,Ji,"f")!==n)return void(r=!0);wt(this,zi,t,"f"),e(t),wt(this,Ki,!1,"f")}finally{r||(wt(this,Gi,!0,"f"),gt(this,Ui,"f").invoke(this,gt(this,Yi,"f")),A(gt(this,Hi,"f"))||gt(this,Hi,"f").call(this,this))}})()})),"f"))}get completeEvent(){return gt(this,Ui,"f")}get promise(){return gt(this,Qi,"f")}get complete(){return gt(this,Gi,"f")}get success(){return gt(this,Ki,"f")}get value(){return gt(this,Yi,"f")}get error(){return gt(this,zi,"f")}cancel(){wt(this,Ji,void 0,"f")}}function Ea(t){return new Promise(((e,r)=>{(async()=>{try{e(await t())}catch(t){r(t)}})()}))}function Oa(t){return new Promise((e=>{const r=setTimeout((()=>{r&&clearTimeout(r),e()}),t)}))}async function xa(t){return await t}function ba(...t){return t.join(B)}function Wa(t,e){const r=t.getItem(e);return A(r)?void 0:function(t){return JSON.parse(t)}(r)}function Sa(t,e,r){const n=function(t){return JSON.stringify(t)}(r);t.setItem(e,n)}Hi=new WeakMap,Ui=new WeakMap,Ji=new WeakMap,Gi=new WeakMap,Ki=new WeakMap,zi=new WeakMap,Yi=new WeakMap,Zi=new WeakMap,Qi=new WeakMap;class Na{constructor(t,e=F){Xi.set(this,void 0),ta.set(this,void 0),wt(this,Xi,e,"f"),wt(this,ta,t,"f")}deleteAsync(t){const e=ba(gt(this,Xi,"f"),t);return A(Wa(gt(this,ta,"f"),e))||Sa(gt(this,ta,"f"),e,void 0),Promise.resolve()}getAsync(t){return Promise.resolve(Wa(gt(this,ta,"f"),ba(gt(this,Xi,"f"),t)))}setAsync(t,e){const r=ba(gt(this,Xi,"f"),t);return A(Wa(gt(this,ta,"f"),r))||Sa(gt(this,ta,"f"),r,e),Promise.resolve()}}function Ta(t){return t.charAt(0).toLowerCase()+t.slice(1)}function Aa(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Da(t){const e=new RegExp(`^[${q}]+$`,"g");return null==t||e.test(t)}function Ca(t){return t.split(F)}function _a(t){return"boolean"==typeof t}let Ia;Xi=new WeakMap,ta=new WeakMap;const ja=Ia=Object.seal({fullName:"Object",name:"Object",namespace:"",baseType:Ia,isArray:!1,factory:Object}),$a=Object.seal({fullName:"Array",name:"Array",namespace:"",baseType:ja,isArray:!0,factory:Array}),Fa=Object.seal({fullName:"Boolean",name:"Boolean",namespace:"",baseType:ja,isArray:!1,factory:Boolean}),Pa=Object.seal({fullName:"Date",name:"Date",namespace:"",baseType:ja,isArray:!1,factory:Date}),qa=Object.seal({fullName:"Function",name:"Function",namespace:"",baseType:ja,isArray:!1,factory:Function});let Va;const La=Va=Object.seal({fullName:"Array",name:"Array",namespace:"",baseType:Va,isArray:!1,factory:()=>null}),Ba=Object.seal({fullName:"Number",name:"Number",namespace:"",baseType:ja,isArray:!1,factory:Number}),Ra=Object.seal({fullName:"String",name:"String",namespace:"",baseType:ja,isArray:!1,factory:String});let Ha;const Ua=Ha=Object.seal({fullName:"undefined",name:"undefined",namespace:"",baseType:Ha,isArray:!1,factory:()=>{}}),Ja=[];class Ga{static get typeResolvers(){return Ja}static getType(t){return Object.seal((()=>{if(null===t)return La;if(T(t))return Ua;if(Rt(t))return Ba;if(_a(t))return Fa;if(Ht(t))return Pa;if(pr(t))return Ra;if(jt(t))return qa;if(Array.isArray(t))return $a;if(this.typeResolvers.length>0)for(const e of this.typeResolvers){const r=e(t);if(r.success)return r.type}else if(it(t))return ja;throw new ns(`${t}`)})())}}var Ka,za,Ya,Za,Qa;class Xa{constructor(){Ka.set(this,""),za.set(this,""),Ya.set(this,Ga.getType(void 0)),Za.set(this,!1),Qa.set(this,(()=>{})),this.setName=t=>(wt(this,Ka,t,"f"),this),this.setNamespace=t=>(wt(this,za,t,"f"),this),this.deriveFrom=t=>(wt(this,Ya,t,"f"),this),this.factory=t=>(wt(this,Qa,((...e)=>new t(...e)),"f"),this)}build(){if($t(gt(this,Ka,"f")))throw new Pn;const t={fullName:$t(gt(this,za,"f"))?gt(this,Ka,"f"):`${gt(this,za,"f")}.${gt(this,Ka,"f")}`,name:gt(this,Ka,"f"),namespace:gt(this,za,"f"),baseType:gt(this,Ya,"f"),isArray:gt(this,Za,"f"),factory:gt(this,Qa,"f")};return Object.seal(t),t}}function to(t,e,r){const n=e.split(".");let s=t;for(let t=0;t<n.length;t++){const e=n[t];if(e.endsWith("]")){const i=e.substring(0,e.indexOf("[")),a=A(s[i])?[]:s[i];s[i]=a;let o=parseInt(e.split("[",2)[1]);isNaN(o)&&(o=a.length),s=a[o]=A(a[o])?t<n.length-1?{}:r:a[o]}else s[e]=A(s[e])?t<n.length-1?{}:r:s[e],s=s[e]}}Ka=new WeakMap,za=new WeakMap,Ya=new WeakMap,Za=new WeakMap,Qa=new WeakMap;const eo=/^\d+$/,ro=/^\d+.\d+$/;function no(t){if($t(t=Ds(t)))return F;const e=ze(t,!0);return e.success?e.value:eo.test(t)?parseInt(t):ro.test(t)?parseFloat(t):t}function so(t,e,r){const n=t.match(/([^=]+)(?:=(.*))/i);if(3===(null==n?void 0:n.length))return{name:n[1],value:no(decodeURIComponent(n[2]))};throw new Ke(`Segment '${t}' is an unsupported query string parameter.`)}function io(t,e){const r=[];return A(e)||(Array.isArray(e)?r.push(...function(t,e){const r=[];for(let n=0;n<e.length;n++){const s=e[n];r.push(...io(`${t}[${n}]`,s))}return r}(`${t}`,e)):"object"==typeof e?r.push(...ao(e,`${t}.`)):r.push({name:t,value:e})),r}function ao(t,e=$){const r=[];for(const n in t)A(t[n])||r.push(...io(`${e}${n}`,t[n]));return r}var oo,uo,ho,co,fo,lo,po;class mo{constructor(t=[]){oo.set(this,void 0),wt(this,oo,t,"f")}get items(){return gt(this,oo,"f")}item(t){const e=this.items.filter((e=>e.name===t));return e.length>1?e.map((t=>t.value)):e.length>0?e[0].value:void 0}toObject(){return function(t){const e={};for(const r of t)to(e,r.name,r.value);return e}(gt(this,oo,"f"))}toString(){return function(t,e=!1){return 0==t.length&&(e=!1),0===t.length?F:(e?"?":F)+t.map((t=>`${t.name}=${encodeURIComponent(t.value)}`)).join("&")}(gt(this,oo,"f"),!0)}static merge(...t){return mo.createFromObject(Object.assign({},...t.map((t=>t.toObject()))))}static createFromQueryString(t){return new mo(function(t){return 0===t.length?[]:(t=js(t,"?")).split("&").map(so)}(t))}static createFromObject(t){return new mo(ao(t))}}oo=new WeakMap;class go{constructor(t,e){uo.set(this,void 0),ho.set(this,void 0);const[r,n]=t.toString().split("?",2);wt(this,uo,r,"f"),wt(this,ho,void 0===n?new mo:mo.createFromQueryString(n),"f"),void 0!==e&&wt(this,ho,mo.merge(gt(this,ho,"f"),mo.createFromObject(e)),"f")}get query(){return gt(this,ho,"f")}set query(t){wt(this,ho,t,"f")}toString(){return gt(this,uo,"f")+this.query.toString()}valueOf(){return this.toString()}}function wo(t){return t instanceof go?t:new go(t)}function vo(t){return pr(t)?e=>e[t]:t}function yo(t){var e;if(null===t)return"null";if(void 0===t)return"undefined";if(void 0!==t.fn&&void 0!==t.fn.jquery)return"jQuery";if("object"!=typeof t)return typeof t;if(t.constructor.getName&&null!=t.constructor.getName())return t.constructor.getName();if(void 0===t.constructor.name){const e=`${t.constructor}`.match(/^[\n\r\s]*function\s*([^\s(]+)/),r=e&&e[1];if(!$t(r))return r}else if(!$t(null===(e=null==t?void 0:t.constructor)||void 0===e?void 0:e.name))return t.constructor.name;return typeof t}uo=new WeakMap,ho=new WeakMap;class Mo{constructor(t,e=!0){co.set(this,void 0),fo.set(this,void 0),lo.set(this,void 0),po.set(this,!1),wt(this,co,t,"f"),wt(this,lo,e,"f")}get value(){return T(gt(this,fo,"f"))&&!gt(this,po,"f")&&(wt(this,fo,gt(this,co,"f").call(this),"f"),T(gt(this,fo,"f"))&&!gt(this,lo,"f")&&wt(this,po,!0,"f")),gt(this,fo,"f")}get isValueCreated(){return gt(this,po,"f")||void 0!==gt(this,fo,"f")}}function ko(t){return JSON.stringify(Object.assign({},t))}function Eo(t,e){const r=t();try{return e(r)}finally{r.dispose()}}function Oo(t,e){return new Promise(((r,n)=>{let s;try{const i=s=t();e(i).then((t=>{i.dispose(),r(t)})).catch((t=>{i.dispose(),n(t)}))}catch(t){s&&s.dispose(),n(t)}}))}co=new WeakMap,fo=new WeakMap,lo=new WeakMap,po=new WeakMap,utilities=i})();
//# sourceMappingURL=index.js.map